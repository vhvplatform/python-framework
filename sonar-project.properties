# SonarQube Configuration for SaaS Framework Python
# This file configures code quality analysis for SonarQube/SonarCloud

# Project identification
sonar.projectKey=vhvplatform_python-framework
sonar.organization=vhplatform
sonar.projectName=VHV Platform Python Framework
sonar.projectVersion=0.1.0

# Source code paths
sonar.sources=src
sonar.tests=tests

# Python-specific settings
sonar.language=py
sonar.python.version=3.11

# Exclusions
sonar.exclusions=\
    **/__pycache__/**,\
    **/.pytest_cache/**,\
    **/htmlcov/**,\
    **/.coverage,\
    **/coverage.xml,\
    **/dist/**,\
    **/build/**,\
    **/*.egg-info/**,\
    **/venv/**,\
    **/.venv/**

# Test exclusions
sonar.test.exclusions=\
    tests/**/*,\
    **/*_test.py,\
    **/test_*.py

# Coverage reports
sonar.python.coverage.reportPaths=coverage.xml
sonar.python.xunit.reportPath=test-results.xml

# Code duplication
sonar.cpd.exclusions=\
    tests/**/*

# Quality gate settings
sonar.qualitygate.wait=true

# Code smell detection
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Ignore specific rules that conflict with our style
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S125
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.py

# Ignore TODO comments (tracked in issue tracker)
sonar.issue.ignore.multicriteria.e2.ruleKey=python:S1135
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.py

# Allow cognitive complexity in specific files
sonar.issue.ignore.multicriteria.e3.ruleKey=python:S3776
sonar.issue.ignore.multicriteria.e3.resourceKey=src/framework/gateway/**/*.py

# Allow more parameters in dependency injection
sonar.issue.ignore.multicriteria.e4.ruleKey=python:S107
sonar.issue.ignore.multicriteria.e4.resourceKey=src/framework/core/dependencies.py

# Security hotspot review
sonar.security.hotspots.reviewed=true

# Additional analysis parameters
sonar.sourceEncoding=UTF-8
sonar.verbose=false
